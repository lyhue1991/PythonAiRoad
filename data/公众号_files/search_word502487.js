define("pages/modules/media_dialog/video_popup/video_popup.tpl.js",[],function(s,e,a){return'<div class="paster_content content_paster_for_android">  <div class="paster_container paster_store" :class="{\'paster_show\': isShow, \'paster_hide\': !isShow}" id="js_paster_container">    <div class="paster_store_container">                <div class="paster_store_main">          <span            class="paster_store_avatar"            id="js_paster_avatar"            :style="{\'background-image\': \'url(\' + avatar + \')\'}"          ></span>          <div class="paster_store_content">            <p class="paster_store_title">              <span class="paster_store_title_inner" id="js_paster_title">{{title}}</span>            </p>            <p class="paster_store_desc" id="js_paster_desc">{{desc}}</p>          </div>        </div>                <span href="javascript:;" class="paster_store_extend js_paster_store_extend"></span>    </div>  </div></div>'})
define("pages/modules/media_dialog/video_dot/video_dot.tpl.js",[],function(e,o,i){return'<div class="wxapp__dialog__video__dot__dialog__container">  <mp-video-time-picker    v-model="dotTime"    :duration="this.videoDuration"    :paster-min-begin-time="pasterMinBeginTime"    :paster-max-begin-time-to-end="pasterMaxBeginTimeToEnd"    :time-picker-can-input="timePickerCanInput"    @focus="onFocus"  />  <p class="frm_msg frm_tips">{{ tips }}</p>  <div class="video-player" id="videoContainer" ref="videoContainer">        <div class="video-player__loading" v-if="false">加载中...</div>    <template v-else>            <div class="video-player__video__container">        <video id="video"          class="video-player__video"          width="580px"          height="280px"          preload          @canplay="canplay"          @play="statePlay"          @pause="statePause"          @ended="stateEnded"          @durationchange="durationchange"          @timeupdate="timeupdate"          ref="videoPlayer"          muted          :src="videoUrl"          :poster="videoinfo.cover"        ></video>        <div class="video-player__video__popup__container">                    <mp-video-popup            :title="pasterInfo.dot.title"            :desc="pasterInfo.dot.desc"            :avatar="pasterInfo.dot.avatar"            :isShow="showVideoPaster"></mp-video-popup>        </div>      </div>      <div class="video-player__video__controller" id="videoControls">         <div class="video-player__video__controller__inner" id="progressWrap">                                      <button              class="video-player__video__controller__item video-player__video__controller__item__play play"              :class="{play: videoState !== \'PLAY\', pause: videoState === \'PLAY\'}"              id="playBtn"              :title="playBtnWord"              @click="playVideo"            ></button>            <div class="video-player__video__controller__item video-player__video__controller__item__current-time">{{ currentTime }}</div>            <div              class="video-player__video__controller__item video-player__video__controller__item__container progress-container"              @mousemove="mousemove"            >              <mp-popover class="video-player__video__popover"                position="down-center"                v-model="showBelowTimePopover"                style="top: 20px;"                :width="265">                <template slot="content">                  <p>{{ showPasterMinLimitPopoverWord }} <a href="javascript:;" @click="skipTo">{{ skipToTipsWord }}</a></p>                </template>              </mp-popover>              <div class="video-player__video__progress__item video-player__video__progress__item__progress play-progress" ref="playProgress" @click="handleProgress">                                <span class="video-player__video__progress__item__progress__forbid video-player__video__progress__item__progress__forbid-before" :style="{left: forbidWidthInProgressFromStart}"></span>                                <span class="video-player__video__progress__item__progress__forbid video-player__video__progress__item__progress__forbid-after" :style="{right: forbidWidthInProgressToEnd}"></span>              </div>                            <div class="video-player__video__progress__item video-player__video__progress__item__current-play current-play-progress" ref="currentPlayProgress" @click="handleProgress">              </div>                            <div class="video-player__video__progress__item video-player__video__progress__item__current-play-dot current-play-dot" ref="currentPlayDot" @mousedown="mousedown" @mousemove="(e) => {e.stopPropagation()}"></div>                            <div class="video-player__video__progress__item video-player__video__progress__item__choose-place choose-place" :style="{width: videoPasterWidthInProgressBar}" :class="{ show: hasDot }" ref="choosePlace" @mousemove="chosePlaceMouseMove" @click="(e) => handleProgress(e, true)"></div>          </div>            <div class="video-player__video__controller__item video-player__video__controller__item__duration">{{ duration }} </div>            <mp-button class="video-player__video__controller__item" type="primary" :disabled="!canDot" @click="inputDot">{{ setPasterBtnWord }}</mp-button>        </div>              </div>    </template>  </div></div>'})
define("pages/modules/open_weapp_path/open_weapp_path.js",["vue-weui/src/form/form.js","vue-weui/src/form/form_item.js","vue-weui/src/input/input.js","pages/modules/open_weapp_path/open_weapp_path.tpl.js","3rd/store/store.js","pages/modules/utils/cgi.js","pages/modules/open_weapp_path/open_weapp_path.css.js"],function(e,t,i){"use strict"
e("vue-weui/src/form/form.js"),e("vue-weui/src/form/form_item.js"),e("vue-weui/src/input/input.js")
var a=e("pages/modules/open_weapp_path/open_weapp_path.tpl.js"),s=e("3rd/store/store.js"),n=e("pages/modules/utils/cgi.js")
e("pages/modules/open_weapp_path/open_weapp_path.css.js"),Vue.component("mp-open-weapp-path",{template:a,props:{extclass:{type:String,default:""},weappnickname:{type:String,default:""},disabled:{type:Boolean,default:!1},appid:{type:String,default:""}},watch:{wxacct:function(){"normal"!==this.statusObj.wxacct&&(this.errTipsObj.wxacct="",this.statusObj.wxacct="noraml")},weappnickname:function(e){this.innerWeappnickname=e},appid:function(e){this.innerAppid=e},disabled:function(e){this.innerDisabled=e}},data:function(){var e=""
return window.wx&&window.wx.commonData&&window.wx.commonData.uin?e=window.wx.commonData.uin:window.wx&&window.wx.data&&window.wx.data.uin&&(e=window.wx.data.uin),{innerWeappnickname:this.weappnickname,innerDisabled:this.disabled,innerAppid:this.appid,wxacct:"",errTipsObj:{wxacct:""},statusObj:{wxacct:"normal"},cacheList:[],cacheKey:"weapp_path_users_"+e,cacheMaxLen:3,openingWeappPath:!1}},created:function(){this.getCacheList()},methods:{getCacheList:function(){try{var e=s.get(this.cacheKey)||[]
if(0<e.length){for(var t=0,i=e.length;t<i;t++)e[t].nick_name_encode=encodeURIComponent(e[t].nick_name)
this.cacheList=e.slice(0,this.cacheMaxLen)}}catch(e){this.cacheList=[]}},updateCache:function(){if(this.wxacct){for(var e=this.cacheList.concat([]),t=!1,i=0,a=e.length;i<a;i++){if(e[i].nick_name===this.wxacct){t=!0
break}}!1===t&&(e.unshift({nick_name:this.wxacct,nick_name_encode:encodeURIComponent(this.wxacct)}),this.cacheList=e.slice(0,this.cacheMaxLen),s.set(this.cacheKey,this.cacheList))}},selectedHistory:function(e){var t=this.cacheList[e].nick_name
t&&this.wxacct!==t&&(this.wxacct=t,this.onOpenWeappPath())},removeHistory:function(e){this.cacheList.splice(e,1),s.set(this.cacheKey,this.cacheList)},showErrTips:function(e,t){void 0!==this.errTipsObj[e]&&void 0!==this.statusObj[e]&&(this.errTipsObj[e]=t,this.statusObj[e]="warn")},hideErrTips:function(e){void 0!==this.errTipsObj[e]&&void 0!==this.statusObj[e]&&(this.errTipsObj[e]="",this.statusObj[e]="normal")},onOpenWeappPath:function(){var i=this
if(!this.innerDisabled&&!this.openingWeappPath&&this.wxacct){this.hideErrTips("wxacct"),this.openingWeappPath=!0
var a=this.wxacct,s=this.innerAppid
n.post({url:"/cgi-bin/copywxapath?action=sendmsg_of_copywxapath",data:{appid:s,username:a}},function(e){if(i.openingWeappPath=!1,i.innerAppid===s&&i.wxacct===a)if(e&&e.base_resp){var t=+e.base_resp.ret
0==t?(i.$tipsSuc("已开启"),i.updateCache(),i.$emit("success",i.innerAppid,i.wxacct)):5000018==t?i.showErrTips("wxacct",'请在手机微信"我-设置-隐私-添加我的方式"，开启"可通过以下方式找到我"的"微信号"，否则可能无法复制页面路径'):5000049==t?i.showErrTips("wxacct","请勿频繁开启，可在1分钟后重试"):5000050==t?i.showErrTips("wxacct","该微信用户尚未关注当前公众号，请关注后重试"):5000051==t?i.showErrTips("wxacct","请输入有效的微信号"):n.handleRet(e,{url:"/cgi-bin/copywxapath?action=sendmsg_of_copywxapath",msg:"系统繁忙，请稍后再试"})}else i.showErrTips("系统繁忙，请稍后再试")},function(){i.openingWeappPath=!1,i.innerAppid===s&&i.wxacct===a&&i.showErrTips("wxacct","系统繁忙，请稍后再试")})}}}})})
define("pages/modules/open_weapp_path/open_weapp_path.tpl.js",[],function(e,t,a){return'<div class="open_weapp_path">  <p :class="[\'popover_content_morepage_desc\', extclass]">指定微信用户可在小程序获得页面路径，请确保该用户微信版本为6.7.2及以上    <a class="link"      target="_blank"      href="http://kf.qq.com/faq/180725biaAn2180725VnQjYF.html">      查看操作指引    </a>  </p>  <div class="step_vertical_container">    <div class="step_vertical_ele">      <p class="step_vertical_title">开启入口</p>      <div class="step_vertical_content">        <mp-form weui="true" @submit.native.prevent>          <mp-form-item>            <mp-input v-model.trim="wxacct" placeholder="请输入微信号" :disabled="innerDisabled" :status="statusObj.wxacct">              <template slot="message">{{errTipsObj.wxacct}}</template>              <template slot="description">                <p class="frm_msg_result" v-if="cacheList.length !== 0">已开启</p>                <div class="tags_container" v-if="cacheList.length !== 0">                  <span v-for="(item,index) in cacheList" class="tag_container" :key="item.nick_name_encode" @click="selectedHistory(index)">{{item.nick_name}}                    <i class="icon16_common close_flat" @click.stop="removeHistory(index)"></i>                  </span>                </div>                <template v-if="innerWeappnickname">该微信用户可在“{{innerWeappnickname}}”小程序中复制任意页面路径，十分钟内有效</template>              </template>              <template slot="append">                <mp-button :disabled="innerDisabled" @click="onOpenWeappPath" :loading="openingWeappPath">开启</mp-button>              </template>            </mp-input>          </mp-form-item>        </mp-form>      </div>    </div>    <div class="step_vertical_ele">      <p class="step_vertical_title">获取路径</p>      <p class="step_vertical_content popover_content_morepage_desc">该微信用户可打开小程序右上角菜单，点击“复制页面路径”并粘贴至左侧“小程序路径”中</p>    </div>  </div></div>'})
define("3rd/store/store.js",["3rd/json/json.js"],function(e,t,r){var i,n=e("3rd/json/json.js"),a={},o=window.document,c="localStorage",u="__storejs__"
function d(){try{return c in window&&window[c]}catch(e){return!1}}if(a.disabled=!1,a.set=function(e,t){},a.get=function(e){},a.remove=function(e){},a.clear=function(){},a.transact=function(e,t,r){var n=a.get(e)
null==r&&(r=t,t=null),void 0===n&&(n=t||{}),r(n),a.set(e,n)},a.getAll=function(){},a.serialize=function(e){return n.stringify2(e)},a.deserialize=function(t){if("string"==typeof t)try{return n.parse(t)}catch(e){return t||void 0}},d())i=window[c],a.set=function(t,r,n){if(void 0===r)return a.remove(t)
try{i.setItem(t,a.serialize(r))}catch(e){window.WX_BJ_REPORT&&window.WX_BJ_REPORT.BadJs&&window.WX_BJ_REPORT.BadJs.onError&&window.WX_BJ_REPORT.BadJs.onError(e,{mid:"mmbizweb2:monitorLsQuotaExceeded"}),i.clear()
try{i.setItem(t,a.serialize(r))}catch(e){"function"==typeof n&&n(e)}}return r},a.get=function(e,t){try{return a.deserialize(i.getItem(e))}catch(e){return void("function"==typeof t&&t(e))}},a.remove=function(e,t){try{i.removeItem(e)}catch(e){"function"==typeof t&&t(e)}},a.clear=function(t){try{i.clear()}catch(e){"function"==typeof t&&t(e)}},a.getAll=function(){for(var e={},t=0;t<i.length;++t){var r=i.key(t)
e[r]=a.get(r)}return e}
else if(o.documentElement.addBehavior){var s,l
try{(l=new ActiveXObject("htmlfile")).open(),l.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),l.close(),s=l.w.frames[0].document,i=s.createElement("div")}catch(e){i=o.createElement("div"),s=o.body}function f(r){return function(){var e=Array.prototype.slice.call(arguments,0)
e.unshift(i),s.appendChild(i),i.addBehavior("#default#userData"),i.load(c)
var t=r.apply(a,e)
return s.removeChild(i),t}}var m=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g")
function v(e){return e.replace(m,"___")}a.set=f(function(e,t,r){return t=v(t),void 0===r?a.remove(t):(e.setAttribute(t,a.serialize(r)),e.save(c),r)}),a.get=f(function(e,t){return t=v(t),a.deserialize(e.getAttribute(t))}),a.remove=f(function(e,t){t=v(t),e.removeAttribute(t),e.save(c)}),a.clear=f(function(e){var t=e.XMLDocument.documentElement.attributes
e.load(c)
for(var r,n=0;r=t[n];n++)e.removeAttribute(r.name)
e.save(c)}),a.getAll=f(function(e){for(var t,r=e.XMLDocument.documentElement.attributes,n={},i=0;t=r[i];++i){var o=v(t.name)
n[t.name]=a.deserialize(e.getAttribute(o))}return n})}try{a.set(u,u),a.get(u)!=u&&(a.disabled=!0),a.remove(u)}catch(e){a.disabled=!0}a.isLocalStorageNameSupported=d,a.enabled=!a.disabled,r.exports=a})
define("3rd/json/json.js",[],function(require,exports,module){return"object"!=typeof JSON&&(JSON={}),function(){"use strict"
function f(t){return t<10?"0"+t:t}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()})
var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep
function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t]
return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var r,n,o,f,u,i=gap,p=e[t]
switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(t)),"function"==typeof rep&&(p=rep.call(e,t,p)),typeof p){case"string":return quote(p)
case"number":return isFinite(p)?String(p):"null"
case"boolean":case"null":return String(p)
case"object":if(!p)return"null"
if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(p)){for(f=p.length,r=0;r<f;r+=1)u[r]=str(r,p)||"null"
return o=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+i+"]":"["+u.join(",")+"]",gap=i,o}if(rep&&"object"==typeof rep)for(f=rep.length,r=0;r<f;r+=1)"string"==typeof rep[r]&&(o=str(n=rep[r],p))&&u.push(quote(n)+(gap?": ":":")+o)
else for(n in p)Object.prototype.hasOwnProperty.call(p,n)&&(o=str(n,p))&&u.push(quote(n)+(gap?": ":":")+o)
return o=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+i+"}":"{"+u.join(",")+"}",gap=i,o}}JSON.stringify2=function(t,e,r){var n
if(indent=gap="","number"==typeof r)for(n=0;n<r;n+=1)indent+=" "
else"string"==typeof r&&(indent=r)
if((rep=e)&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify")
return str("",{"":t})},"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j
function walk(t,e){var r,n,o=t[e]
if(o&&"object"==typeof o)for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(void 0!==(n=walk(o,r))?o[r]=n:delete o[r])
return reviver.call(t,e,o)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j
throw new SyntaxError("JSON.parse")})}(),JSON})
define("pages/modules/open_weapp_path/open_weapp_path.css.js", [], function (require, exports, module){module.exports = "/*How to usefont-family: 'wechatnum';*/.open_weapp_path .frm_msg_result {  color: #353535;}.open_weapp_path .tag_container {  position: relative;  display: inline-block;  line-height: 24px;  background-color: #e5e7ec;  border: 1px solid #e7e7eb;  color: #353535;  padding: 0 .5em;  margin-bottom: 5px;  margin-right: 5px;}.open_weapp_path .tag_container:last-child {  margin-right: 0;}.open_weapp_path .tag_container .close_flat {  position: relative;  top: -1px;  margin-left: 3px;  vertical-align: middle;  display: inline-block;  width: 7px;  height: 7px;  background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAJ9JREFUGBltj7ENwyAQRbmj8xYZJRN4jLRpkMgEAVGkzhhp03gUj5EKCB/7rBPyScB97unzoRjjnZk/zrnVnFRK6VJKmbnW+mvNgouR26EFDGEYQrgR0aM5X8VZQU/v/buDIwyNV5pTh6APEEKc0WsImrFJWWu/DZiw0Ms9zsNRZ+qDIXMHNYTgACWGfJDOIIAoDXPO+TUG3zBj4I4ZmD/qoIRjXT+K9wAAAABJRU5ErkJggg==\") no-repeat center;  background-size: cover;  cursor: pointer;}";});define("pages/modules/media_dialog/weapp_dialog/weapp_dialog.css.js", [], function (require, exports, module){module.exports = "/*How to usefont-family: 'wechatnum';*/.weui-desktop-reset-icon-btn {  display: block;  width: 35px;  height: 35px;}.weui-desktop-reset-icon-btn svg circle {  fill: #FFFFFF;  stroke: #E4E8EB;}.weui-desktop-reset-icon-btn svg path {  fill: #9A9A9A;}.weui-desktop-reset-icon-btn:hover svg circle {  fill: #E5E5E5;  stroke: #D8D8D8;}.weui-desktop-weapp-dialog .weui-desktop-weapp-dialog__step-content__tips-head {  margin-bottom: 10px;}.weui-desktop-weapp-dialog .upload-local-img__popover .weui-desktop-popover {  text-align: center;  margin-bottom: 60px;}.weui-desktop-weapp-dialog .weui-desktop-weapp-dialog__step-content {  height: 430px;  box-sizing: border-box;  overflow-y: auto;}.weui-desktop-weapp-dialog .weui-desktop-step:before {  counter-increment: step;  content: counter(step);  display: inline-block;  vertical-align: middle;  margin: -0.2em 6px 0 0;  width: 16px;  height: 16px;  line-height: 16px;  border: 1px solid #9A9A9A;  color: #9A9A9A;  border-radius: 50%;}.weui-desktop-weapp-dialog .weui-desktop-step.current:before {  border: 1px solid #07C160;  color: #07C160;}.weui-desktop-weapp-dialog .step1 {  padding: 100px 230px 0;}.weui-desktop-weapp-dialog .step2 {  padding: 45px 90px 15px;}.weui-desktop-weapp-dialog .step2 .weui-desktop-form__input-wrp {  width: 300px;}.weui-desktop-weapp-dialog .step2 .popover_path .weui-desktop-form__input-wrp {  width: 337px;}.weui-desktop-weapp-dialog .step2 .weapp_card.app_context .weapp_card_thumb_wrp {  position: relative;  padding-bottom: 0;}.weui-desktop-weapp-dialog .step2 .weapp_card_thumb_wrp:hover .upload-image__wrp {  position: relative;  z-index: 1;  background-color: rgba(255, 255, 255, 0.9);}.weui-desktop-weapp-dialog .step2 .weapp_card_thumb_after_wrp {  position: absolute;  top: 0;  left: 0;  height: 100%;}.weui-desktop-weapp-dialog .step2 .weui-desktop-form__input_counter .weui-desktop-form__input {  padding-right: 84px;}.weui-desktop-weapp-dialog .weui-desktop-weapp-dialog__step-content__desc {  margin-bottom: 25px;}.weui-desktop-weapp-dialog .weui-desktop-form__control-group {  margin-bottom: 25px;}.weui-desktop-weapp-dialog .frm_label {  margin-right: 30px;}.weui-desktop-weapp-dialog .link_weapp_desc {  margin-bottom: 20px;}.weui-desktop-weapp-dialog .frm_control_group {  padding-bottom: 25px;}.weui-desktop-weapp-dialog .card-preview__area {  display: inline-block;  width: 270px;  vertical-align: top;}.weui-desktop-weapp-dialog .weapp_card {  position: relative;  background-color: #F6F8F9;  border: 1px solid #E4E8EB;  border-radius: 2px;}.weui-desktop-weapp-dialog .weapp_card_title {  padding: .3em 0 .75em;  overflow: hidden;  text-overflow: ellipsis;  display: -webkit-box;  -webkit-box-orient: vertical;  -webkit-line-clamp: 2;  font-weight: 400;}.weui-desktop-weapp-dialog .weui-desktop-upload__tips {  padding: 0 10px 10px;}.weui-desktop-weapp-dialog .weapp_card.app_context .weapp_card_ft {  padding: 0 15px;  border-top: 1px solid #E4E8EB;  line-height: 24px;}.weui-desktop-weapp-dialog .weapp_card_profile {  display: block;  position: relative;  font-size: 12px;  color: #9A9A9A;  padding-left: 25px;}.weui-desktop-weapp-dialog .weapp_card_avatar {  width: 20px;  height: 20px;  margin: -0.2em 5px 0 0;  position: absolute;  top: 2px;  left: 0;}.weui-desktop-weapp-dialog .weapp_card_avatar img {  width: 100%;}.weui-desktop-weapp-dialog .weapp_card_nickname_wrp {  display: inline-block;  vertical-align: top;  max-width: 100%;}.weui-desktop-weapp-dialog .weapp_card_nickname {  width: auto;  overflow: hidden;  text-overflow: ellipsis;  white-space: nowrap;  word-wrap: normal;  font-weight: 400;}.weui-desktop-weapp-dialog .guarantee_icon {  float: right;  margin-top: 1px;  margin-left: 4px;  font-size: 0;  display: inline-block;  vertical-align: middle;  width: 16px;  height: 16px;  background-size: cover;  background-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E  %3Cg fill='none' fill-rule='evenodd'%3E    %3Cpath d='M0 0h16v16H0z'/%3E    %3Cpath fill='%2307C160' fill-opacity='.1' d='M9.155.976l4.357 2.513a2.307 2.307 0 0 1 1.155 1.998v5.026c0 .824-.44 1.586-1.155 1.998l-4.357 2.513a2.311 2.311 0 0 1-2.31 0l-4.357-2.513a2.307 2.307 0 0 1-1.155-1.998V5.487c0-.824.44-1.586 1.155-1.998L6.845.976a2.311 2.311 0 0 1 2.31 0z'/%3E    %3Cpath fill='%2307C160' fill-rule='nonzero' d='M9.155.976l4.357 2.513a2.307 2.307 0 0 1 1.155 1.998v5.026c0 .824-.44 1.586-1.155 1.998l-4.357 2.513a2.311 2.311 0 0 1-2.31 0l-4.357-2.513a2.307 2.307 0 0 1-1.155-1.998V5.487c0-.824.44-1.586 1.155-1.998L6.845.976a2.311 2.311 0 0 1 2.31 0zm-.4.693a1.511 1.511 0 0 0-1.51 0L2.888 4.182c-.467.27-.755.767-.755 1.305v5.026c0 .538.288 1.036.755 1.305l4.357 2.513c.467.27 1.043.27 1.51 0l4.357-2.513c.467-.27.755-.767.755-1.305V5.487c0-.538-.288-1.036-.755-1.305L8.755 1.669z'/%3E    %3Cpath fill='%2307C160' fill-rule='nonzero' d='M6.783 4.804h4.025v2.56H6.783v-2.56zm1.64 6.54V9.289c-.49.69-1.08 1.204-2.023 1.802l-.445-.69c1.05-.514 1.64-.997 2.131-1.672H6.37v-.697h2.055V7.48h.743v.552h2.07v.697h-1.84c.499.629 1.173 1.135 2.093 1.58l-.421.72a7.73 7.73 0 0 1-1.902-1.725v2.04h-.743zm-3.25.023V7.748c-.169.26-.36.514-.56.767l-.467-.69c.529-.729 1.288-2.162 1.594-3.305l.798.192c-.192.59-.391 1.142-.621 1.656v4.999h-.744zm2.4-5.827v1.089h2.445V5.54H7.573z'/%3E  %3C/g%3E%3C/svg%3E\");}.weui-desktop-weapp-dialog .weapp_card_logo {  color: #9A9A9A;  font-size: 13px;}.weui-desktop-weapp-dialog .icon_weapp_logo_mini {  width: 14px;  height: 14px;  vertical-align: middle;  margin-right: .2em;  margin-top: -0.2em;}.weui-desktop-weapp-dialog .weapp_card_bd {  padding: 0 15px 15px;}.weui-desktop-weapp-dialog .upload-image__wrp {  border: 1px dashed #E4E8EB;  text-align: center;  padding-top: 58px;  height: 180px;  box-sizing: border-box;  background-color: #fff;}.weui-desktop-weapp-dialog .popover_content_morepage_desc {  color: #9A9A9A;  margin-bottom: 15px;}.weui-desktop-weapp-dialog .step_vertical_container {  counter-reset: sectioncounter;  padding-left: 30px;}.weui-desktop-weapp-dialog .step_vertical_ele {  position: relative;}.weui-desktop-weapp-dialog .step_vertical_ele:before {  content: counter(sectioncounter);  counter-increment: sectioncounter;  width: 20px;  border-radius: 50%;  border: 1px solid #07C160;  display: block;  text-align: center;  line-height: 20px;  position: absolute;  top: 0;  left: -30px;  color: #07C160;}.weui-desktop-weapp-dialog .step_vertical_ele:after {  content: ' ';  width: 0;  height: 90%;  display: block;  border-right: 1px solid #E4E8EB;  position: absolute;  top: 30px;  left: -19px;}.weui-desktop-weapp-dialog .step_vertical_ele:last-child:after {  display: none;}.weui-desktop-weapp-dialog .step_vertical_title {  color: #07C160;  margin-bottom: 5px;}.weui-desktop-weapp-dialog .popover_content_morepage_desc {  color: #9A9A9A;  margin-bottom: 15px;}.weui-desktop-weapp-dialog .upload-local-img__area {  position: relative;  padding: 18px 20px 18px 143px;  border-radius: 2px;  border: 1px solid #E4E8EB;  height: 146px;  width: 423px;  box-sizing: border-box;}.weui-desktop-weapp-dialog .upload-local-img__area .weui-desktop-upload {  width: 100%;  height: 100%;}.weui-desktop-weapp-dialog .upload-local-img__area .weui-desktop-upload__btn__wrp {  display: block;  height: 100%;  background-color: #F4F5F7;  color: #9b9b9b;}.weui-desktop-weapp-dialog .upload-local-img__area .add_gray {  margin: 29px auto 10px;}.weui-desktop-weapp-dialog .upload-local-img__area .upload-local-img__picker__panel {  text-align: center;}.weui-desktop-weapp-dialog .upload-local-img__area .upload-local-img__picker__panel .weui-desktop-tooltip__wrp {  display: block;  position: relative;}.weui-desktop-weapp-dialog .upload-local-img__area .weui-desktop-form__input-wrp {  width: 100%;}.weui-desktop-weapp-dialog .upload-local-img__area .upload-local-img__picker__panel__info {  width: 7.5em;  text-align: center;  margin: 0 auto;}.weui-desktop-weapp-dialog .upload-local-img__area .weui-desktop-form__input-wrp {  width: 100%;}.weui-desktop-weapp-dialog .upload-local-img__area .weui-desktop-form__input {  padding-left: 0;  border: none;}.weui-desktop-weapp-dialog .upload-local-img__area .weui-desktop-upload__complete__opr {  display: none;}.weui-desktop-weapp-dialog .upload-local-img__area .upload-local-img__preview {  background-position: center;  background-repeat: no-repeat;  background-size: cover;  height: 100%;  background-color: #fff;}.weui-desktop-weapp-dialog .upload-local-img__area .upload-local-img__preview__tooltip {  position: absolute;  top: 5px;  right: 5px;}.weui-desktop-weapp-dialog .upload-local-img__head {  position: absolute;  top: 18px;  left: 18px;  width: 110px;  height: 110px;}.weui-desktop-weapp-dialog .upload-local-img__head .weui-desktop-upload-input__wrp {  display: block;  top: 0;  left: 0;  right: 0;  height: 100%;}.weui-desktop-weapp-dialog .upload-local-img__head .weui-desktop-btn_default {  text-align: center;  border: none;  padding: 0;  line-height: 110px;  /* right: 0; */  position: absolute;  left: 0;  right: 0;}.weui-desktop-weapp-dialog .upload-local-img__head .video-dot-reupload {  width: 50px;  height: 50px;  right: -100px;}.weui-desktop-weapp-dialog .upload-local-img__head .video-dot-upload {  width: 120px;  height: 120px;  left: 0;}.weui-desktop-weapp-dialog .upload-local-img__head .upload-local-img__preview {  position: absolute;  top: 0;  left: 0;  right: 0;  z-index: 2;}.weui-desktop-weapp-dialog .upload-local-img__head .weui-desktop-upload__files {  position: absolute;  z-index: 1;  top: 0;  margin-top: 0;}.weui-desktop-weapp-dialog .upload-local-img__head .weui-desktop-upload__file {  padding: 0;}.weui-desktop-weapp-dialog .upload-local-img__head .weui-desktop-upload__file__info__area {  margin: 0;  padding: 0;}.weui-desktop-weapp-dialog .upload-local-img__head .weui-desktop-upload__file__img {  max-width: initial;  max-height: initial;  width: 110px;  height: 110px;}.weui-desktop-weapp-dialog .upload-local-img__head .weui-desktop-upload-input__wrp {  display: inline-block;  vertical-align: middle;  position: absolute;  z-index: 1;  right: 0;}.weui-desktop-weapp-dialog .upload-local-img__head:hover .weui-desktop-popover {  opacity: 1;  visibility: visible;}.weui-desktop-weapp-dialog .form-item__video-dot .frm_msg {  display: block;  width: auto;  margin-top: 20px;}.weui-desktop-weapp-dialog__video-popup .step2 .weui-desktop-form__label,.weui-desktop-weapp-dialog__video-popup .step2 .frm_label {  width: 6em;}";});"use strict"
define("3rd/editor/common/cropImgCgi.js",["pages/modules/utils/cgi.js"],function(r,e,o){var t=r("pages/modules/utils/cgi.js")
return{getUrl:function(e){t.post({url:"/cgi-bin/cropimage?",data:{imgurl:e.imgurl,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}},function(r){r&&r.base_resp&&0==r.base_resp.ret&&r.imgurl?"function"==typeof e.onsuccess&&e.onsuccess({oriUrl:e.imgurl,url:r.imgurl,file_id:r.file_id||""}):"function"==typeof e.onerror&&e.onerror(r||{})},function(r){"function"==typeof e.onerror&&e.onerror({retcode:-2})})},getUrlMulti:function(e){for(var r={imgurl:e.imgurl,size_count:e.size.length},o=0,i=e.size.length;o<i;o++){var n=e.size[o]
r["size"+o+"_x1"]=n.x1,r["size"+o+"_y1"]=n.y1,r["size"+o+"_x2"]=n.x2,r["size"+o+"_y2"]=n.y2}t.post({url:"/cgi-bin/cropimage?action=crop_multi",data:r},function(r){r&&r.base_resp&&0==r.base_resp.ret&&r.result&&r.result.length==e.size.length?"function"==typeof e.onsuccess&&e.onsuccess({oriUrl:e.imgurl,result:r.result}):"function"==typeof e.onerror&&e.onerror(r||{})},function(r){"function"==typeof e.onerror&&e.onerror({retcode:-2})})}}})
define("pages/modules/media_dialog/weapp_dialog/weapp_dialog.tpl.js",[],function(e,t,a){return'<mp-dialog ref="weappDialog" weui="true" v-model="dialogShow" :value="true" :title="dialogTitle" class="weui-desktop-weapp-dialog" :class="{\'weui-desktop-weapp-dialog__video-popup\': isvideodot}" :width="960" @close="onDialogClose">  <template>    <mp-step v-if="!isEdit" :step="step">      <mp-step-item title="选择小程序"></mp-step-item>      <mp-step-item title="填写详细信息"></mp-step-item>    </mp-step>    <div class="weui-desktop-media-area">            <div v-show="step==1" class="weui-desktop-weapp-dialog__step-content step1">        <template v-if="isvideodot">           <p class="weui-desktop-weapp-dialog__step-content__tips-head">请选择贴片需要跳转的小程序</p>        </template>        <mp-weapp-search           v-show="step==1"          @resultChange="searchResultChange"          :isvideodot="isvideodot"        ></mp-weapp-search>      </div>                  <div v-if="step==2 && !isvideodot" class="weui-desktop-weapp-dialog__step-content step2" ref="step2Container">         <p class="weui-desktop-weapp-dialog__step-content__desc">点击小程序卡片会打开小程序路径指定的页面</p>              <div class="frm_control_group">            <label for="" class="frm_label">              小程序名称                          </label>            <div class="frm_controls frm_vertical_pt">{{searchResult.nickname}}</div>        </div>        <mp-form weui="true" @submit.native.prevent>          <mp-form-item>            <template slot="label">              小程序路径              <template v-if="searchResult.service_type == \'4\'">(选填)</template>            </template>            <mp-input :countable="true" :maxlength="pathMaxLen" v-model.trim="searchResult.path" :status="statusObj.path" :disabled="gettingQrcode">              <template slot="message">{{errTipsObj.path}}</template>              <template v-if="searchResult.service_type != \'4\'" slot="description">                默认显示小程序首页，可更改。                <mp-popover :width="415" position="left-center" class="popover_path weui-desktop-popover_hover-show" trigger="hover">                  <template slot="target"><a href="javascript:;">获取更多页面路径</a></template>                  <template slot="content">                    <mp-open-weapp-path :weappnickname="searchResult.nickname" :disabled="gettingQrcode" :appid="searchResult.appid"></mp-open-weapp-path>                  </template>                </mp-popover>              </template>              <template v-else slot="description">                小程序可按“？参数”格式填入参数或不填写此信息                <br>                默认显示小程序首页，可更改。              </template>            </mp-input>          </mp-form-item>          <mp-form-item class="weui-desktop-form__control-group_offset">            <template slot="label">展示方式</template>            <mp-radio-group              name="weapp_type"               v-model="searchResult.type"            >              <mp-radio v-if="showTextRadio" value="text" :disabled="gettingQrcode">文字</mp-radio>              <mp-radio v-if="showImageRadio" value="image" :disabled="gettingQrcode">图片</mp-radio>              <mp-radio v-if="showCardRadio" value="card" :disabled="gettingQrcode">小程序卡片</mp-radio>              <mp-radio v-if="showQrcodeRadio" value="qrcode" :disabled="gettingQrcode">小程序码</mp-radio>            </mp-radio-group>          </mp-form-item>                    <mp-form-item v-show="searchResult.type == \'text\'">            <template slot="label">文字内容</template>            <mp-input v-model.trim="searchResult.content" :status="statusObj.content">              <template slot="message">{{errTipsObj.content}}</template>              <template slot="description">点击文字会打开小程序指定路径的页面</template>            </mp-input>          </mp-form-item>                    <mp-form-item v-show="searchResult.type == \'image\'">            <template slot="label">上传图片</template>                      <mp-upload ref="imgupload" url="uploadCdnFile" :select="onImageUploadSelect"  @complete="onImageUploadComplete" @error="onImageUploadError" @remove="onImageUploadRemove" extensions="bmp,png,jpeg,jpg,gif" mimetype="image/bmp,image/png, image/jpeg,image/jpg,image/gif" :preview="null" :maxsize="2*1024*1024" :previewmode=\'"img"\'>              <p slot="tips">点击图片会打开小程序指定路径的页面。图片规格不限，大小限制为2M。</p>            </mp-upload>          </mp-form-item>                    <mp-form-item v-show="searchResult.type == \'card\'">            <template slot="label">卡片标题</template>            <mp-input :countable="true" :maxlength="titleMaxLen" :disabled="gettingQrcode" v-model.trim="searchResult.title" :status="statusObj.title">              <template slot="message">{{errTipsObj.title}}</template>              <template slot="description">点击小程序卡片会打开小程序路径指定的页面</template>            </mp-input>          </mp-form-item>          <mp-form-item v-show="searchResult.type == \'card\'">            <template slot="label">卡片样式</template>            <div class="card-preview__area">                <div class="weapp_card app_context appmsg_card_context">                    <div class="weapp_card_bd">                        <div class="weapp_card_profile">                            <span class="radius_avatar weapp_card_avatar">                                 <img :src="searchResult.headimg_url">                            </span>                            <div class="weapp_card_nickname_wrp">                              <span v-if="searchResult.hasGuaranteeFlag === 1" class="guarantee_icon">交易担保</span>                              <span class="weapp_card_nickname">{{searchResult.nickname}}</span>                            </div>                        </div>                        <span class="weapp_card_info">                            <span class="weapp_card_title">{{searchResult.title}}</span>                                                                                    <div class="weapp_card_thumb_wrp">                              <div class="upload-image__wrp">                                <mp-upload url="uploadCdnFile" :select="onCardImageUploadSelect"  @complete="onCardImageUploadComplete" @error="onCardImageUploadError" @remove="onCardImageUploadRemove" extensions="bmp,png,jpeg,jpg" mimetype="image/bmp,image/png, image/jpeg,image/jpg" :showsize="false" :simple="uploadCardImageSimple" :maxsize="2*1024*1024" :previewmode=\'"text"\' :previewparse="onCardImagePreviewparse">                                  <template v-if="!!errTipsObj.cardImage" slot="message">                                    {{errTipsObj.cardImage}}                                  </template>                                  <p slot="tips">                                    <template v-if="!cardImagePreview">                                      建议图片尺寸为5:4，大小不超过2M，暂不支持动图                                    </template>                                                                      </p>                                </mp-upload>                              </div>                              <span v-show="cardImagePreview" class="weapp_card_thumb_after_wrp js_after_preview" style="overflow: hidden; width: 240px; height: 180px;">                                  <img class="weapp_card_thumb_preview js_after_preview_img" :src="cardImagePreview" alt="">                              </span>                            </div>                                                    </span>                    </div>                    <div class="weapp_card_ft">                        <span class="weapp_card_logo">                        <img class="icon_weapp_logo_mini" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAb1BMVEUAAAB4it11h9x2h9x2h9x2htx8j+R8i+B1h9x2h9x3h92Snv91htt2h9x1h9x4h9x1h9x1h9x2idx1h9t2h9t1htt1h9x1h9x1htx2h9x1h912h9x4h913iN17juOOjuN1iNx2h9t4h958i+B1htvejBiPAAAAJHRSTlMALPLcxKcVEOXXUgXtspU498sx69DPu5+Yc2JeRDwbCYuIRiGBtoolAAAA3ElEQVQoz62S1xKDIBBFWYiFYImm2DWF///G7DJEROOb58U79zi4O8iOo8zuCRfV8EdFgbYE49qFQs8ksJInajOA1wWfYvLcGSueU/oUGBtPpti09uNS68KTMcrQ5jce4kmN/HKn9XVPAo702JEdx9hTUrWUqVrI3KwUmM1NhIWMKdwiGvpGMWZOAj1PZuzAxHwhVSplrajoseBnbyDHAwvrtvKKhdqTtFBkL8wO5ijcsS3G1JMNvQ5mdW7fc0x0+ZcnlJlZiflAomdEyFaM7qeK2JahEjy5ZyU7jC/q/Rz/DgqEuAAAAABJRU5ErkJggg==" alt="">                        小程序</span>                    </div>                </div>            </div>                        <div v-if="cardImagePreview" class="edit-image__area js_review-box">              <p class="tips_global edit-image__tips">裁剪图片</p>              <img class="edit-image__preview js_review-image-url" :src="cardImagePreview">            </div>          </mp-form-item>        </mp-form>              </div>                <div v-if="step==2 && isvideodot" class="weui-desktop-weapp-dialog__step-content step2">        <div class="frm_control_group">            <label for="" class="frm_label">              小程序名称                          </label>            <div class="frm_controls frm_vertical_pt">{{ searchResult.nickname }}</div>        </div>          <mp-form-item>              <template slot="label">                小程序路径                <template v-if="searchResult.service_type == \'4\'">(选填)</template>              </template>              <mp-input :countable="true" :maxlength="pathMaxLen" v-model.trim="searchResult.path" :status="statusObj.path" :disabled="gettingQrcode">                <template slot="message">{{errTipsObj.path}}</template>                <template v-if="searchResult.service_type != \'4\'" slot="description">                  默认显示小程序首页，可更改。                  <mp-popover :width="415" position="left-center" class="popover_path weui-desktop-popover_hover-show" trigger="hover">                    <template slot="target"><a href="javascript:;">获取更多页面路径</a></template>                    <template slot="content">                      <mp-open-weapp-path :weappnickname="searchResult.nickname" :disabled="gettingQrcode" :appid="searchResult.appid"></mp-open-weapp-path>                    </template>                  </mp-popover>                </template>                <template v-else slot="description">                  小程序可按“？参数”格式填入参数或不填写此信息                  <br>                  默认显示小程序首页，可更改。                </template>              </mp-input>            </mp-form-item>          <mp-form-item>          <template slot="label">贴片样式</template>          <template>            <div class="upload-local-img__area">              <div class="upload-local-img__head">                <div @mouseenter="showUploadTipsStatus = true" @mouseleave="showUploadTipsStatus = false">                  <mp-upload url="uploadCdnFile"                    :query="{ height:0, width:0, size:0, min_height:100, min_width:100, min_size:0 }"                    extensions="bmp,png,jpeg,jpg"                    mimetype="image/bmp,image/png,image/jpeg,image/jpg"                    previewtype="tmp"                    @complete="onVideoPasterAvatarUploadComplete"                    :preview="null"                    :showsize=false                    :isvideodot=true                    :filelist="fileList"                    ref="upload"                    :maxsize="2*1024*1024"                    :simple="true"                    @error="uploadVideoPasterAvatarError"                  >                    <div class="upload-local-img__picker__panel" slot="button">                      <i slot="target" id="js_add_appmsg" class="icon35_common add_gray"></i>                      <p class="upload-local-img__picker__panel__info">本地上传</p>                      <mp-popover class="upload-local-img__popover"                        v-model="showUploadTipsStatus"                        position="down-center"                        :width="210"                        content="图片最大2M，不支持GIF">                      </mp-popover>                    </div>                  </mp-upload>                </div>                                <div class="upload-local-img__preview" v-if="pasterInfoInner.dot.avatar"                  :style="{\'background-image\': \'url(\' + pasterInfoInner.dot.avatar + \')\'}">                  <mp-tooltip class="upload-local-img__preview__tooltip" content="替换图片" trigger="hover">                                        <button slot="target" class="weui-desktop-reset-icon-btn" @click="uploadImg">                      <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><g><circle cx="16" cy="16" r="15.5"></circle><path d="M11.531 12.999h12.47v1.5H8.5a.5.5 0 0 1-.33-.876l4.933-4.324a.4.4 0 0 1 .594.527l-2.166 3.173zm8.939 6H8v-1.5h15.501a.5.5 0 0 1 .33.876l-4.933 4.323a.4.4 0 0 1-.594-.526l2.166-3.173z"></path></g></svg>                    </button>                  </mp-tooltip>                </div>              </div>              <div class="upload-local-img__body">                <mp-input                  :maxlength="videoPasterTitleMaxLength"                  :placeholder="titlePlaceholder"                  v-model.trim="pasterInfoInner.dot.title"                >                </mp-input>                <mp-input                  :maxlength="videoPasterDescMaxLength"                  :placeholder="descPlaceholder"                  v-model.trim="pasterInfoInner.dot.desc"                >                </mp-input>              </div>            </div>          </template>        </mp-form-item>        <mp-form-item>          <template slot="label">贴片出现时间</template>          <template>              <div class="video-sample__area">                <mp-video-dot                  :videoinfo="videoinfo ? videoinfo[0] : null"                  v-model="pasterInfoInner.begin_time"                  :paster-info="pasterInfoInner"                  :tips="tips"                  :paster-min-begin-time="pasterMinBeginTime"                  :paster-max-begin-time-to-end="pasterMaxBeginTimeToEnd"                  :video-paster-show-time="videoPasterShowTime"                  @change="pasterTimeChange"                  @focus="onFocus"                  ref="videoPaster"                />              </div>          </template>        </mp-form-item>     </div>         </div>  </template>  <template slot="footer">    <template v-if="step==1">      <mp-button @click="onDialogClose">取消</mp-button>      <mp-button v-if="!isEdit" type="primary" @click="nextStep" :disabled="!searchResult.appid">下一步</mp-button>    </template>    <template v-if="step==2">      <mp-button v-if="!isEdit" @click="preStep" :disabled="gettingQrcode">上一步</mp-button>      <mp-button type="primary" @click="onDialogOk" :loading="gettingQrcode">确定</mp-button>        </template>  </template></mp-dialog>'})
define("pages/modules/media_dialog/search_dialog/searchDialog4Web1.js",["pages/modules/media_dialog/search_dialog/search_dialog.js"],function(e,a,i){"use strict"
function r(){return{defaultShow:!1,isShow:!1,inserteddata:[],nickname:""}}i.exports={getParams:r,bindEvent:function(a){a.eventBus.$on("requireSearchDialog",function(){a.isRequired||(e("pages/modules/media_dialog/search_dialog/search_dialog.js"),a.isRequired=!0)}),a.eventBus.$on("showInsertSearchDialog",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}
a.eventBus.$emit("requireSearchDialog"),function(e,a){var i=r()
for(var o in a)void 0!==i[o]&&(i[o]=a[o])
for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e.params[s]=i[s])
e.params.isShow=!0,e.params.defaultShow=!0}(a,e),a.eventBus.$emit("update-component",{key:"mp-search-dialog",params:a.params})})},close:function(e){e.eventBus.$emit("showInsertSearchDialog_callback",e.data)}}})
define("pages/modules/media_dialog/search_dialog/search_dialog.js",["vue-weui/src/dialog/dialog.js","vue-weui/src/popover/popover.js","pages/modules/search_word/search_word.js","pages/modules/media_dialog/search_dialog/search_dialog.tpl.js","pages/modules/utils/cgi.js"],function(i,a,e){"use strict"
i("vue-weui/src/dialog/dialog.js"),i("vue-weui/src/popover/popover.js"),i("pages/modules/search_word/search_word.js")
var o=i("pages/modules/media_dialog/search_dialog/search_dialog.tpl.js"),s=i("pages/modules/utils/cgi.js")
Vue.component("mp-search-dialog",{template:o,props:{value:{type:Boolean,default:!1},inserteddata:{type:Array,default:function(){return[]}},nickname:{type:String,default:""}},data:function(){return{dialogShow:!0,submitBtnLoading:!1,submitBtnDisabled:!0}},watch:{value:function(i){!0===i?this.show():this.hide()},dialogShow:function(i){this.$emit("input",i)}},methods:{show:function(){!0!==this.dialogShow&&(this.dialogShow=!0)},hide:function(){!1!==this.dialogShow&&(this.dialogShow=!1)},dialogClose:function(i){var a=0<arguments.length&&void 0!==i?i:{}
this.hide()
var e=null
a.data&&(e=a.data),this.$emit("cancel",e)},submitStatusChange:function(i){this.submitBtnDisabled=i},submit:function(){var a=this
if(!this.submitBtnLoading){this.submitBtnLoading=!0
for(var e=[],i=this.$refs.searchWordComponent.getItemList(),o=0;o<i.length;o++)""!==i[o].label&&e.push({label:i[o].label})
s.post({url:"/cgi-bin/searchplugin?action=addwords",data:{data:JSON.stringify({word:e.map(function(i){return i.label})})}},function(i){console.log(i),a.submitBtnLoading=!1,a.dialogClose({data:e})})}}}})})
define("pages/modules/search_word/search_word.js",["vue-weui/src/tooltip/tooltip.js","vue-weui/src/input/input.js","vue-weui/src/popover/popover.js","pages/modules/drag_list/drag_list.js","pages/modules/drag_list/drag_item.js","pages/modules/search_word/search_word.css.js","pages/modules/search_word/search_item.js","pages/modules/search_word/search_word.tpl.js","pages/modules/utils/cgi.js"],function(t,s,e){"use strict"
t("vue-weui/src/tooltip/tooltip.js"),t("vue-weui/src/input/input.js"),t("vue-weui/src/popover/popover.js"),t("pages/modules/drag_list/drag_list.js"),t("pages/modules/drag_list/drag_item.js"),t("pages/modules/search_word/search_word.css.js"),t("pages/modules/search_word/search_item.js")
var i=t("pages/modules/search_word/search_word.tpl.js"),a=t("pages/modules/utils/cgi.js")
Vue.component("mp-search-word",{template:i,props:{inserteddata:{type:Array,default:function(){return[]}},nickname:{type:String,default:""},extraClass:{type:String,default:""},editStatus:{type:String,default:""}},data:function(){return{maxCount:6,itemList:this.genItemList(4),historyItemList:[],isSorting:!1,submitDisabled:!0,defaultClass:"appmsg_search_select_mod",defaultItemCount:4,editedStatus:!1}},computed:{historyDisabled:function(){for(var t=!1,s=0;s<this.itemList.length;s++)if(""===this.itemList[s].label){t=!0
break}return!t&&6===this.itemList.length}},watch:{itemList:{handler:function(){this.computSubmitDisableStatus()},deep:!0},submitDisabled:function(t){this.$emit("submitstatuschange",t)},inserteddata:function(){this.itemList=this.genItemList()}},mounted:function(){this.getHistoryItem(),this.computSubmitDisableStatus(),this.$emit("submitstatuschange",this.submitDisabled)},methods:{genItemList:function(t){var s=[]
t=t||this.defaultItemCount
for(var e=this.inserteddata.length>t?this.inserteddata.length:t,i=0;i<e;i++)s.push({label:this.inserteddata[i]?this.inserteddata[i].label:"",key:Math.random(),err:!1})
return s},computSubmitDisableStatus:function(){for(var t=!0,s=0;s<this.itemList.length;s++){if(this.itemList[s].err&&""!==this.itemList[s].label){t=!0
break}""!==this.itemList[s].label&&(t=!1)}this.submitDisabled=t},addItem:function(){this.itemList.length<this.maxCount&&(this.itemList.push({label:"",key:Math.random(),err:!1}),this.editedStatus=!0)},delItem:function(t){this.itemList.splice(t,1)},getHistoryItem:function(){var s=this
a.post({url:"/cgi-bin/searchplugin?action=getwords"},function(t){t&&t.base_resp&&0==+t.base_resp.ret?s.historyItemList=t.word_list:console.log(t)})},useHistoryItem:function(t){if(!this.historyDisabled){for(var s=!1,e=0;e<this.itemList.length;e++)if(""===this.itemList[e].label){this.itemList[e].label=this.historyItemList[t],s=!0
break}!s&&this.itemList.length<6&&this.itemList.push({label:this.historyItemList[t],key:Math.random()}),this.editedStatus=!0}},onItemMouseDown:function(){this.isSorting=!0},onItemMouseUp:function(){this.isSorting=!1},swapItem:function(t){this.itemList=[].concat(t),this.editedStatus=!0},onItemDel:function(t){for(var s=0;s<this.itemList.length;s++)if(this.itemList[s].key===t){this.itemList.splice(s,1)
break}this.editedStatus=!0},addHistoryItem:function(){return!0},getItemList:function(){return this.itemList},toEdit:function(){this.$emit("toedit")},onInput:function(){this.editedStatus=!0},getEditedStatus:function(){return this.editedStatus},setEditdStatusToFalse:function(){this.editedStatus=!1}}})})
